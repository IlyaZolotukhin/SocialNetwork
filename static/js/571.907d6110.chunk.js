(self.webpackChunksamurai_way=self.webpackChunksamurai_way||[]).push([[571],{571:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>O});var o=t(2791);const r="Profile_profile__BE4FD";var n=t(5413),i=t(6159),a=t(1638),l=t(184);const u=e=>{const[s,t]=(0,o.useState)(!1),[r,i]=(0,o.useState)(e.status);(0,o.useEffect)((()=>{i(e.status)}),[e.status]);return(0,l.jsxs)("div",{children:[!s&&(0,l.jsxs)("div",{className:n.Z.status,children:[(0,l.jsx)("b",{children:"Status: "}),(0,l.jsx)("span",{onDoubleClick:()=>{t(!0)},children:e.status||"no status"})]}),s&&(0,l.jsx)("div",{children:(0,l.jsx)("input",{onChange:e=>{i(e.currentTarget.value)},onBlur:()=>{t(!1),e.updateStatus(r)},autoFocus:!0,value:r})})]})},c=e=>{let{status:s,updateStatus:t,profile:o,isOwner:r,goToEditMode:i}=e;return(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:n.Z.fullName,children:(null===o||void 0===o?void 0:o.fullName)||"no name"}),(0,l.jsx)(u,{status:s,updateStatus:t}),(0,l.jsxs)("div",{children:[(0,l.jsx)("b",{children:"Looking for a job:"})," ",null!==o&&void 0!==o&&o.lookingForAJob?"yes":"no"]}),(null===o||void 0===o?void 0:o.lookingForAJob)&&(0,l.jsxs)("div",{children:[(0,l.jsx)("b",{children:"My professional skills:"})," ",null===o||void 0===o?void 0:o.lookingForAJobDescription]}),(0,l.jsxs)("div",{className:n.Z.aboutMe,children:[(0,l.jsx)("b",{children:"About me:"})," ",(null===o||void 0===o?void 0:o.aboutMe)||"no information"]}),(0,l.jsxs)("div",{className:n.Z.contactWrapper,children:[(0,l.jsx)("b",{children:"Contacts:"})," ",o&&Object.keys(o.contacts).map((e=>(0,l.jsx)(d,{contactTitle:e,contactValue:o.contacts[e]},e)))]})]})},d=e=>{let{contactTitle:s,contactValue:t}=e;return(0,l.jsxs)("div",{className:n.Z.contact,children:[(0,l.jsxs)("b",{children:[s,":"]}),t||" not specified"]})},p=e=>{var s;let{status:t,profile:o,updateStatus:r,isOwner:u,savePhoto:d,saveProfile:p}=e;return o?(0,l.jsxs)("div",{className:n.Z.descriptionBlock,children:[(0,l.jsx)("div",{children:(0,l.jsx)("img",{src:(null===(s=o.photos)||void 0===s?void 0:s.large)||a,alt:"profile"})}),(0,l.jsx)(c,{status:t,updateStatus:r,goToEditMode:()=>{},profile:o,isOwner:u})]}):(0,l.jsx)(i.Z,{})};var h=t(81),v=t(364);const f="Post_item__vhY0N",m="Post_postTools__ARhQa";var x=t(6388),j=t(5912),P=t(9505);const g=e=>{var s,t;return(0,l.jsxs)("div",{className:f,children:[(0,l.jsx)("img",{src:(null===(s=e.profile)||void 0===s||null===(t=s.photos)||void 0===t?void 0:t.large)||a,alt:"user"}),e.message,(0,l.jsxs)("div",{className:m,children:[(0,l.jsxs)("span",{children:[(0,l.jsx)(x.Z,{})," ",(0,l.jsx)("b",{children:e.likesCount})]}),(0,l.jsx)("span",{children:(0,l.jsx)(j.Z,{fontSize:"small"})}),(0,l.jsx)("span",{onClick:()=>e.deletePost(e.id),children:(0,l.jsx)(P.Z,{fontSize:"small"})})]})]})},b="MyPosts_posts__UdH7v";var Z=t(6139),w=t(704),S=t(3079),_=t(1812);const y=o.memo((e=>{let s=e.profilePage.posts.map((s=>(0,l.jsx)(g,{profile:e.profilePage.profile,id:s.id,deletePost:e.deletePost,message:s.message,likesCount:s.likesCount},s.id)));return(0,l.jsxs)("div",{className:b,children:[(0,l.jsx)("h3",{children:"My posts"}),(0,l.jsx)(N,{onSubmit:e.addNewPost}),(0,l.jsx)("div",{children:s})]})})),N=(0,w.Z)({form:"ProfileAddNewPostForm"})((e=>(0,l.jsxs)("form",{onSubmit:e.handleSubmit,children:[(0,l.jsx)("div",{children:(0,l.jsx)(Z.Z,{placeholder:"Enter your post",name:"newPostText",component:_.g,validate:[S.C,S.P]})}),(0,l.jsx)("button",{children:"Add Post"})]}))),M=y;var k=t(97);const C=(0,k.qC)((0,v.$j)((e=>({profilePage:e.profilePage})),(e=>({deletePost:s=>{e((0,h.fR)(s))},addNewPost:s=>{e((0,h.Wl)(s.newPostText))}}))))(M),z=e=>(0,l.jsxs)("div",{className:r,children:[(0,l.jsx)(p,{profile:e.profile,isOwner:e.isOwner,status:e.status,updateStatus:e.updateStatus,savePhoto:e.savePhoto,saveProfile:e.saveProfile}),(0,l.jsx)(C,{})]});var T=t(9271),A=t(2932);class I extends o.Component{refreshProfile(){let e=+this.props.match.params.userId;!e&&this.props.autorizedUserId&&(e=this.props.autorizedUserId),e||this.props.history.push("/login"),this.props.getUserProfile(e),this.props.getStatus(e)}componentDidMount(){this.refreshProfile()}componentDidUpdate(e,s,t){this.props.match.params.userId!==e.match.params.userId&&this.refreshProfile()}render(){return(0,l.jsx)(z,{profile:this.props.profile,isOwner:!this.props.match.params.userId,status:this.props.status,setUserProfile:this.props.setUserProfile,updateStatus:this.props.updateStatus,savePhoto:this.props.savePhoto,saveProfile:this.props.saveProfile})}}const O=(0,k.qC)((0,v.$j)((e=>({profile:e.profilePage.profile,status:e.profilePage.status,autorizedUserId:e.auth.id,isAuth:e.auth.isAuth})),{getUserProfile:h.et,getStatus:h.lR,updateStatus:h.Nf,savePhoto:h.Ju,saveProfile:h.Ii}),T.EN,A.D)(I)},9505:(e,s,t)=>{"use strict";var o=t(4836);s.Z=void 0;var r=o(t(5649)),n=t(184),i=(0,r.default)((0,n.jsx)("path",{d:"M14.12 10.47 12 12.59l-2.13-2.12-1.41 1.41L10.59 14l-2.12 2.12 1.41 1.41L12 15.41l2.12 2.12 1.41-1.41L13.41 14l2.12-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4zM6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM8 9h8v10H8V9z"}),"DeleteForeverOutlined");s.Z=i},5912:(e,s,t)=>{"use strict";var o=t(4836);s.Z=void 0;var r=o(t(5649)),n=t(184),i=(0,r.default)((0,n.jsx)("path",{d:"M15 3H6c-.83 0-1.54.5-1.84 1.22l-3.02 7.05c-.09.23-.14.47-.14.73v2c0 1.1.9 2 2 2h6.31l-.95 4.57-.03.32c0 .41.17.79.44 1.06L9.83 23l6.59-6.59c.36-.36.58-.86.58-1.41V5c0-1.1-.9-2-2-2zm0 12-4.34 4.34L12 14H3v-2l3-7h9v10zm4-12h4v12h-4z"}),"ThumbDownOutlined");s.Z=i},6388:(e,s,t)=>{"use strict";var o=t(4836);s.Z=void 0;var r=o(t(5649)),n=t(184),i=(0,r.default)((0,n.jsx)("path",{d:"M21 8h-6.31l.95-4.57.03-.32c0-.41-.17-.79-.44-1.06L14.17 1 7.59 7.59C7.22 7.95 7 8.45 7 9v10c0 1.1.9 2 2 2h9c.83 0 1.54-.5 1.84-1.22l3.02-7.05c.09-.23.14-.47.14-.73v-2c0-1.1-.9-2-2-2zm0 4-3 7H9V9l4.34-4.34L12.23 10H21v2zM1 9h4v12H1z"}),"ThumbUpAltOutlined");s.Z=i},5649:(e,s,t)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"default",{enumerable:!0,get:function(){return o.createSvgIcon}});var o=t(8681)},8681:(e,s,t)=>{"use strict";t.r(s),t.d(s,{capitalize:()=>r.Z,createChainedFunction:()=>n,createSvgIcon:()=>i.Z,debounce:()=>a,deprecatedPropType:()=>l,isMuiElement:()=>d,ownerDocument:()=>h,ownerWindow:()=>v,requirePropFactory:()=>f,setRef:()=>m,unstable_ClassNameGenerator:()=>y,unstable_useEnhancedEffect:()=>x,unstable_useId:()=>g,unsupportedProp:()=>b,useControlled:()=>Z,useEventCallback:()=>w.Z,useForkRef:()=>S.Z,useIsFocusVisible:()=>_.Z});var o=t(5902),r=t(4036);const n=function(){for(var e=arguments.length,s=new Array(e),t=0;t<e;t++)s[t]=arguments[t];return s.reduce(((e,s)=>null==s?e:function(){for(var t=arguments.length,o=new Array(t),r=0;r<t;r++)o[r]=arguments[r];e.apply(this,o),s.apply(this,o)}),(()=>{}))};var i=t(9201);const a=function(e){let s,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function o(){for(var o=arguments.length,r=new Array(o),n=0;n<o;n++)r[n]=arguments[n];clearTimeout(s),s=setTimeout((()=>{e.apply(this,r)}),t)}return o.clear=()=>{clearTimeout(s)},o};const l=function(e,s){return()=>null};var u=t(2791),c=t.t(u,2);const d=function(e,s){var t,o;return u.isValidElement(e)&&-1!==s.indexOf(null!=(t=e.type.muiName)?t:null==(o=e.type)||null==(o=o._payload)||null==(o=o.value)?void 0:o.muiName)};function p(e){return e&&e.ownerDocument||document}const h=p;const v=function(e){return p(e).defaultView||window};t(7462);const f=function(e,s){return()=>null};const m=t(2971).Z;const x=t(2876).Z;let j=0;const P=c["useId".toString()];const g=function(e){if(void 0!==P){const s=P();return null!=e?e:s}return function(e){const[s,t]=u.useState(e),o=e||s;return u.useEffect((()=>{null==s&&(j+=1,t("mui-".concat(j)))}),[s]),o}(e)};const b=function(e,s,t,o,r){return null};const Z=t(8637).Z;var w=t(7992),S=t(8047),_=t(3031);const y={configure:e=>{o.Z.configure(e)}}},4836:e=>{e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports}}]);
//# sourceMappingURL=571.907d6110.chunk.js.map