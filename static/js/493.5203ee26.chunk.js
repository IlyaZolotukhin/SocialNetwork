(self.webpackChunksamurai_way=self.webpackChunksamurai_way||[]).push([[493],{2276:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>D});var r=s(2791);const o="Profile_profile__BE4FD",n="ProfileInfo_profile__8xL3t",a="ProfileInfo_descriptionBlock__fnRRh",i="ProfileInfo_fullName__r1tE0",l="ProfileInfo_aboutMe__7Ad9x",u=s.p+"static/media/town.1a12e052f89faed87fc8.jpeg";var c=s(6159),d=s(31),p=s(184);const f=e=>{const[t,s]=(0,r.useState)(!1),[o,n]=(0,r.useState)(e.status);(0,r.useEffect)((()=>{n(e.status)}),[e.status]);return(0,p.jsxs)("div",{children:[!t&&(0,p.jsx)("div",{children:(0,p.jsxs)("span",{onDoubleClick:()=>{s(!0)},children:[" ",e.status||"no status"]})}),t&&(0,p.jsx)("div",{children:(0,p.jsx)("input",{onChange:e=>{n(e.currentTarget.value)},onBlur:()=>{s(!1),e.updateStatus(o)},autoFocus:!0,value:o})})]})},h=e=>{let{status:t,profile:s,setUserProfile:r,updateStatus:o}=e;return s?(0,p.jsxs)("div",{className:n,children:[(0,p.jsx)("div",{children:(0,p.jsx)("img",{src:u,alt:"town"})}),(0,p.jsxs)("div",{className:a,children:[(0,p.jsx)("div",{children:(0,p.jsx)("img",{src:s.photos.large||d})}),(0,p.jsx)("div",{className:i,children:s.fullName||"no name"}),(0,p.jsx)(f,{status:t,updateStatus:o}),(0,p.jsx)("div",{className:l,children:(0,p.jsxs)("p",{children:[(0,p.jsx)("b",{children:"about me: "})," ",s.aboutMe||"no information"]})})]})]}):(0,p.jsx)(c.Z,{})};var m=s(81),v=s(364);const x="Post_item__vhY0N",j="Post_postTools__ARhQa";var P=s(6388),_=s(5912),g=s(9505);const b=e=>(0,p.jsxs)("div",{className:x,children:[(0,p.jsx)("img",{src:d,alt:"user"}),e.message,(0,p.jsxs)("div",{className:j,children:[(0,p.jsxs)("span",{children:[(0,p.jsx)(P.Z,{})," ",(0,p.jsx)("b",{children:e.likesCount})]}),(0,p.jsx)("span",{children:(0,p.jsx)(_.Z,{fontSize:"small"})}),(0,p.jsx)("span",{onClick:()=>e.deletePost(e.id),children:(0,p.jsx)(g.Z,{fontSize:"small"})})]})]}),w="MyPosts_posts__UdH7v";var S=s(6139),Z=s(704),y=s(3079),N=s(1812);const C=r.memo((e=>{let t=e.profilePage.posts.map((t=>(0,p.jsx)(b,{id:t.id,deletePost:e.deletePost,message:t.message,likesCount:t.likesCount},t.id)));return(0,p.jsxs)("div",{children:[(0,p.jsx)("h3",{children:"My posts"}),(0,p.jsx)(z,{onSubmit:e.addNewPost}),(0,p.jsx)("div",{className:w,children:t})]})})),z=(0,Z.Z)({form:"ProfileAddNewPostForm"})((e=>(0,p.jsxs)("form",{onSubmit:e.handleSubmit,children:[(0,p.jsx)("div",{children:(0,p.jsx)(S.Z,{placeholder:"Enter your post",name:"newPostText",component:N.g,validate:[y.C,y.P]})}),(0,p.jsx)("button",{children:"Add Post"})]}))),M=C;var I=s(97);const U=(0,I.qC)((0,v.$j)((e=>({profilePage:e.profilePage})),(e=>({deletePost:t=>{e((0,m.fR)(t))},addNewPost:t=>{e((0,m.Wl)(t.newPostText))}}))))(M),k=e=>(0,p.jsxs)("div",{className:o,children:[(0,p.jsx)(h,{profile:e.profile,setUserProfile:e.setUserProfile,status:e.status,updateStatus:e.updateStatus}),(0,p.jsx)(U,{})]});var E=s(9271),A=s(2932);class T extends r.Component{refreshProfile(){let e=+this.props.match.params.userId;!e&&this.props.autorizedUserId&&(e=this.props.autorizedUserId),e||this.props.history.push("/login"),this.props.getUserProfile(e),this.props.getStatus(e)}componentDidMount(){this.refreshProfile()}componentDidUpdate(e,t,s){+this.props.match.params.userId!==+e.match.params.userId&&this.refreshProfile()}render(){return(0,p.jsx)(k,{profile:this.props.profile,status:this.props.status,setUserProfile:this.props.setUserProfile,updateStatus:this.props.updateStatus})}}const D=(0,I.qC)((0,v.$j)((e=>({profile:e.profilePage.profile,status:e.profilePage.status,autorizedUserId:e.auth.id,isAuth:e.auth.isAuth})),{getUserProfile:m.et,getStatus:m.lR,updateStatus:m.Nf}),E.EN,A.D)(T)},9505:(e,t,s)=>{"use strict";var r=s(4836);t.Z=void 0;var o=r(s(5649)),n=s(184),a=(0,o.default)((0,n.jsx)("path",{d:"M14.12 10.47 12 12.59l-2.13-2.12-1.41 1.41L10.59 14l-2.12 2.12 1.41 1.41L12 15.41l2.12 2.12 1.41-1.41L13.41 14l2.12-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4zM6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM8 9h8v10H8V9z"}),"DeleteForeverOutlined");t.Z=a},5912:(e,t,s)=>{"use strict";var r=s(4836);t.Z=void 0;var o=r(s(5649)),n=s(184),a=(0,o.default)((0,n.jsx)("path",{d:"M15 3H6c-.83 0-1.54.5-1.84 1.22l-3.02 7.05c-.09.23-.14.47-.14.73v2c0 1.1.9 2 2 2h6.31l-.95 4.57-.03.32c0 .41.17.79.44 1.06L9.83 23l6.59-6.59c.36-.36.58-.86.58-1.41V5c0-1.1-.9-2-2-2zm0 12-4.34 4.34L12 14H3v-2l3-7h9v10zm4-12h4v12h-4z"}),"ThumbDownOutlined");t.Z=a},6388:(e,t,s)=>{"use strict";var r=s(4836);t.Z=void 0;var o=r(s(5649)),n=s(184),a=(0,o.default)((0,n.jsx)("path",{d:"M21 8h-6.31l.95-4.57.03-.32c0-.41-.17-.79-.44-1.06L14.17 1 7.59 7.59C7.22 7.95 7 8.45 7 9v10c0 1.1.9 2 2 2h9c.83 0 1.54-.5 1.84-1.22l3.02-7.05c.09-.23.14-.47.14-.73v-2c0-1.1-.9-2-2-2zm0 4-3 7H9V9l4.34-4.34L12.23 10H21v2zM1 9h4v12H1z"}),"ThumbUpAltOutlined");t.Z=a},5649:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.createSvgIcon}});var r=s(8681)},8681:(e,t,s)=>{"use strict";s.r(t),s.d(t,{capitalize:()=>o.Z,createChainedFunction:()=>n,createSvgIcon:()=>a.Z,debounce:()=>i,deprecatedPropType:()=>l,isMuiElement:()=>d,ownerDocument:()=>f,ownerWindow:()=>h,requirePropFactory:()=>m,setRef:()=>v,unstable_ClassNameGenerator:()=>y,unstable_useEnhancedEffect:()=>x,unstable_useId:()=>_,unsupportedProp:()=>g,useControlled:()=>b,useEventCallback:()=>w.Z,useForkRef:()=>S.Z,useIsFocusVisible:()=>Z.Z});var r=s(5902),o=s(4036);const n=function(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return t.reduce(((e,t)=>null==t?e:function(){for(var s=arguments.length,r=new Array(s),o=0;o<s;o++)r[o]=arguments[o];e.apply(this,r),t.apply(this,r)}),(()=>{}))};var a=s(9201);const i=function(e){let t,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];clearTimeout(t),t=setTimeout((()=>{e.apply(this,o)}),s)}return r.clear=()=>{clearTimeout(t)},r};const l=function(e,t){return()=>null};var u=s(2791),c=s.t(u,2);const d=function(e,t){var s,r;return u.isValidElement(e)&&-1!==t.indexOf(null!=(s=e.type.muiName)?s:null==(r=e.type)||null==(r=r._payload)||null==(r=r.value)?void 0:r.muiName)};function p(e){return e&&e.ownerDocument||document}const f=p;const h=function(e){return p(e).defaultView||window};s(7462);const m=function(e,t){return()=>null};const v=s(2971).Z;const x=s(2876).Z;let j=0;const P=c["useId".toString()];const _=function(e){if(void 0!==P){const t=P();return null!=e?e:t}return function(e){const[t,s]=u.useState(e),r=e||t;return u.useEffect((()=>{null==t&&(j+=1,s("mui-".concat(j)))}),[t]),r}(e)};const g=function(e,t,s,r,o){return null};const b=s(8637).Z;var w=s(7992),S=s(8047),Z=s(3031);const y={configure:e=>{r.Z.configure(e)}}},4836:e=>{e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports}}]);
//# sourceMappingURL=493.5203ee26.chunk.js.map